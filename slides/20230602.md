---
marp: true
theme: gaia
class:
    - lead
---

 Rust勉強会(2023/06/02)
## Rubyから滑らかにRustへ入門する

---

### 本日のお品書き

- Rustの紹介
  - RubyとRustの比較
  - Rustで開発するにあたって必要なツールチェーン
- 逆ポーランド記法を使った電卓CLIを作ってみよう
  - 今回使うcrate
  - 抽象構文木の実装
- 付録：これからRustを学ぶ際のドキュメント・参考書

---

## 始める前に
Rustのインストールはお済みですか？
↓のコマンドでインストールしておいてください(公式推奨)

```bash: Terminal
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```
---

### Q. 皆さんの経験したことのある言語はなんですか？

- :sparkling_heart: Ruby, JavaScript(動的型付け言語)のみ
- :+1: C/C++, JAVAなどの静的型付け言語
- :tada: Lisp, Haskellなどの関数型プログラミング 
- :clap: COBOL, BASIC, アセンブラ
---

# Rustの紹介
- **Rustの紹介** :arrow_left:
- 逆ポーランド記法を使った電卓CLIを作ってみよう

---

### RustとRubyの比較(言語仕様)

| Ruby |  | Rust |
| :---: | :---: | :---: |
| Dynamic(動的) | 型 | Static(静的) |
| オブジェクト指向プログラミング |  | 関数型プログラミング |
| Class | | Struct(impl) |
| 基本的に何でも代入可能 | 変数 | 基本的に不変 |
| 後でまとめて実装 | Error | 関数ごとに必要 |

---

### RustとRubyの比較(開発環境)

| Ruby |  | Rust |
| :---: | :---: | :---: |
| Gem | ライブラリ | crate |
| .ruby-version <br> / Dockerfile <br> + Gemfile | バージョン管理 | Cargo.toml |
| rubocop | LSP | rust-analyzer |
| rubocop | Formatter | rustfmt |
| rubocop | Linter | rustfmt |

---

# 逆ポーランド記法を使った電卓CLIを作ってみよう
- Rustの紹介
- **逆ポーランド記法を使った電卓CLIを作ってみよう** :arrow_left:

---

# 逆ポーランド記法って？:thinking:

---

#### 逆ポーランド記法(RPN: Reverse Polish Notation)

中置記法(普通の書き方)
```bash: Terminal
>> 1 + 2 # 入力
>> 3
```
逆ポーランド記法

```bash: Terminal
>> 1 2 + # 入力
>> 3
```
---

# なぜ逆ポーランド記法なのか

# > A. **パースが簡単だから**

---

### インタプリタにおける入力のイメージ1
### 普通の書き方 | 逆ポーランド記法
#### e.g.) 1 + 2

```
                ==========                  ==========
                |          <- 1 + 2         |          <- 1 2 +
                ==========                  ==========
                    ↓                           ↓
                ==========                  ==========
                | 1 + 2   -> 取り出すのは2から  | 1 2 +    -> 取り出すのは+から
                ==========                  ==========

```
---
### インタプリタにおける入力のイメージ2
### 普通の書き方 | 逆ポーランド記法
#### e.g.) 1 x 2 + 3 x 4
```
    ================                   ================
    |                <- 1 x 2 + 3 x 4  |               <- 1 2 * 3 4 * +
    ================                   ================
        ↓                                  ↓
    ================                   ================
    | 1 x 2 + 3 x 4                    | 1 2 * 3 4 * +
    ================                   ================

```
---

### 付録：これからRustを学ぶ際のドキュメント・参考書

---

#### ドキュメント
- [The Rust Programming Language 日本語版](https://doc.rust-jp.rs/book-ja/): 公式ドキュメントの日本語訳．基本的にこれが最強．
- [crate.io](https://crates.io/): Rubyでいうrubygemsに該当する．
- [Rust Magazine](https://rustmagazine.org/): 有名クレートの作者が執筆した記事などあって面白い

---

#### 参考書
- [実践Rustプログラミング入門](https://www.shuwasystem.co.jp/book/9784798061702.html): 今回のサンプルもここから．簡単なRustの紹介+チュートリアル集
- [プログラミングRust 第2版](https://www.oreilly.co.jp/books/9784873119786/): 言わずとしてたO'Reilly本．もはや鈍器．手元における辞書的な扱い．
- [パーフェクトRust](https://gihyo.jp/book/2023/978-4-297-13322-1): 上記2冊を足して2で割ったような内容．2023/2/22発売のため内容も新しい．

---
### webチュートリアル
- [Tour of Rust](https://tourofrust.com/00_ja.html): Tour of GoのRustバージョン．ブラウザ上で実行しながら構文を学べる．いつの間にか日本語になってた．
- [Hecto: Build your own text editor in Rust](https://www.flenker.blog/hecto/): vimのようなエディタを作るチュートリアル．簡単なシンタックスハイライトの実装など本格的な内容．
